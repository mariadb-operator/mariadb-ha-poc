apiVersion: v1
data:
  lib.sh: IyEvYmluL2Jhc2gKCnNldCAtZQoKVE9LRU49JChjYXQgL3Zhci9ydW4vc2VjcmV0cy9rdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3Rva2VuKQpDQV9DRVJUPS92YXIvcnVuL3NlY3JldHMva3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9jYS5jcnQKSE9TVE5BTUU9JChob3N0bmFtZSkKU1RBVEVGVUxTRVRfSU5ERVg9JHtIT1NUTkFNRSMjKi19ClNUQVRFRlVMU0VUX05BTUU9JHtIT1NUTkFNRSUtKn0KCmlzX2luaXRpYWxpemVkKCkgewogIFsgISAteiAiJChscyAtQSAvdmFyL2xpYi9teXNxbCkiIF0KfQoKZ2V0X25ld19jbHVzdGVyKCkgewogIFdTUkVQX05FV19DTFVTVEVSPSJPRkYiCiAgaWYgWyAiJFNUQVRFRlVMU0VUX0lOREVYIiA9ICIwIiBdICYmICEgJChpc19pbml0aWFsaXplZCk7IHRoZW4KICAgICAgV1NSRVBfTkVXX0NMVVNURVI9Ik9OIgogIGZpCiAgaWYgWyAiJEJPT1NUUkFQX0NMVVNURVIiIF07IHRoZW4KICAgICAgV1NSRVBfTkVXX0NMVVNURVI9Ik9OIgogIGZpCiAgZWNobyAkV1NSRVBfTkVXX0NMVVNURVIKfQoKZ2V0X3N0YXRlZnVsc2V0KCkgewogIFNUQVRFRlVMU0VUX1VSTD0iaHR0cHM6Ly9rdWJlcm5ldGVzL2FwaXMvYXBwcy92MS9uYW1lc3BhY2VzLyRQT0RfTkFNRVNQQUNFL3N0YXRlZnVsc2V0cy8kU1RBVEVGVUxTRVRfTkFNRSIKICBlY2hvICQoY3VybCAiJFNUQVRFRlVMU0VUX1VSTCIgLUggIkF1dGhvcml6YXRpb246IEJlYXJlciAkVE9LRU4iIC0tY2FjZXJ0ICIkQ0FfQ0VSVCIpCn0KCmdldF9hbGxfcG9kc19jbHVzdGVyX2FkZHJlc3MoKSB7CiAgU1RBVEVGVUxTRVQ9JChnZXRfc3RhdGVmdWxzZXQpCiAgUkVQTElDQVM9JChlY2hvICRTVEFURUZVTFNFVCB8IGpxIC1yICcuc3BlYy5yZXBsaWNhcycpCiAgSEVBRExFU1NfU0VSVklDRT0kKGVjaG8gJFNUQVRFRlVMU0VUIHwganEgLXIgJy5zcGVjLnNlcnZpY2VOYW1lJykKCiAgR0FMRVJBX0NMVVNURVJfQUREUkVTUz0iZ2NvbW06Ly8iCiAgZm9yICgoIGk9MDsgaTwkUkVQTElDQVM7IGkrKyApKQogIGRvIAogICAgR0FMRVJBX0NMVVNURVJfQUREUkVTUz0iJEdBTEVSQV9DTFVTVEVSX0FERFJFU1MkU1RBVEVGVUxTRVRfTkFNRS0kaS4kSEVBRExFU1NfU0VSVklDRS4kUE9EX05BTUVTUEFDRS5zdmMuJENMVVNURVIsIgogIGRvbmUKICBlY2hvICR7R0FMRVJBX0NMVVNURVJfQUREUkVTUyUsKn0KfQoKZ2V0X3JlYWR5X3BvZHNfY2x1c3Rlcl9hZGRyZXNzKCkgewogIFBPRFNfVVJMPSJodHRwczovL2t1YmVybmV0ZXMvYXBpL3YxL25hbWVzcGFjZXMvJFBPRF9OQU1FU1BBQ0UvcG9kcyIKICBQT0RTPSQoCiAgICBjdXJsICIkUE9EU19VUkwiIC1IICJBdXRob3JpemF0aW9uOiBCZWFyZXIgJFRPS0VOIiAtLWNhY2VydCAiJENBX0NFUlQiIHwgXAogICAgICBqcSAtciAiLml0ZW1zW10gfCBcCiAgICAgIHNlbGVjdCgubWV0YWRhdGEubmFtZSB8IHN0YXJ0c3dpdGgoXCIkU1RBVEVGVUxTRVRfTkFNRS1cIikpIHwgXAogICAgICBzZWxlY3QoLnN0YXR1cy5jb250YWluZXJTdGF0dXNlc1swXS5yZWFkeSA9PSB0cnVlKSB8IFwKICAgICAgLm1ldGFkYXRhLm5hbWUiCiAgKQogIFBPRFM9KAogICAgJFBPRFMKICApCiAgU1RBVEVGVUxTRVQ9JChnZXRfc3RhdGVmdWxzZXQpCiAgSEVBRExFU1NfU0VSVklDRT0kKGVjaG8gJFNUQVRFRlVMU0VUIHwganEgLXIgJy5zcGVjLnNlcnZpY2VOYW1lJykKCiAgR0FMRVJBX0NMVVNURVJfQUREUkVTUz0iZ2NvbW06Ly8iCgogIGlmIFtbICIkeyNQT0RTW0BdfSIgLWx0ICIyIiBdXTsgdGhlbgogICAgZWNobyAiJEdBTEVSQV9DTFVTVEVSX0FERFJFU1MiCiAgICByZXR1cm4KICBmaQoKICBmb3IgaSBpbiAiJHtQT0RTW0BdfSIKICBkbyAKICAgIEdBTEVSQV9DTFVTVEVSX0FERFJFU1M9IiRHQUxFUkFfQ0xVU1RFUl9BRERSRVNTJGkuJEhFQURMRVNTX1NFUlZJQ0UuJFBPRF9OQU1FU1BBQ0Uuc3ZjLiRDTFVTVEVSLCIKICBkb25lCiAgR0FMRVJBX0NMVVNURVJfQUREUkVTUz0iJEdBTEVSQV9DTFVTVEVSX0FERFJFU1MkSE9TVE5BTUUuJEhFQURMRVNTX1NFUlZJQ0UuJFBPRF9OQU1FU1BBQ0Uuc3ZjLiRDTFVTVEVSIgoKICBlY2hvICRHQUxFUkFfQ0xVU1RFUl9BRERSRVNTCn0KCmdldF9jbHVzdGVyX2FkZHJlc3MoKSB7CiAgaWYgISAkKGlzX2luaXRpYWxpemVkKTsgdGhlbiAKICAgIGVjaG8gJChnZXRfYWxsX3BvZHNfY2x1c3Rlcl9hZGRyZXNzKQogICAgcmV0dXJuCiAgZmkKICBlY2hvICQoZ2V0X3JlYWR5X3BvZHNfY2x1c3Rlcl9hZGRyZXNzKQp9Cg==
  run.sh: IyEvYmluL2Jhc2gKCnNldCAtZQoKaWYgWyAteiAiJE1BUklBREJfUk9PVF9QQVNTV09SRCIgXTsgdGhlbgogICAgZWNobyAiRW52aXJvbm1lbnQgdmFyaWFibGUgJ01BUklBREJfUk9PVF9QQVNTV09SRCcgbXVzdCBiZSBzZXQuIgogICAgZXhpdCAxCmZpCgpDVVJSRU5UX0RJUj0iJCggZGlybmFtZSAiJHtCQVNIX1NPVVJDRVswXX0iICkiCgpzb3VyY2UgIiRDVVJSRU5UX0RJUi9saWIuc2giCgojIEF2b2lkIGhhdmluZyBhIGN1c3RvbSBEb2NrZXIgaW1hZ2UgYW5kIHVzZSB0aGUgb2ZpY2lhbCBvbmUuCiMgVE9ETzogdXNlIGEgc2lkZWNhciBmb3IgcmVsb2FkaW5nIHRoZSBjb25maWcgZmlsZSBhbmQgcmVtb3ZlIHRoaXMKYXB0IHVwZGF0ZSAmJiBhcHQgaW5zdGFsbCAteSBjdXJsIGpxCgpHQUxFUkFfQ09ORklHX0ZJTEU9L2V0Yy9teXNxbC9tYXJpYWRiLmNvbmYuZC9nYWxlcmEuY25mCkdBTEVSQV9TVEFURV9GSUxFPS92YXIvbGliL215c3FsL2dyYXN0YXRlLmRhdAoKaWYgWyAteiAiJEVOVFJZUE9JTlQiIF07IHRoZW4gCiAgICBFTlRSWVBPSU5UPSIvdXNyL2xvY2FsL2Jpbi9kb2NrZXItZW50cnlwb2ludC5zaCIKZmkKaWYgWyAteiAiJFNBRkVfVE9fQk9PVFNUUkFQIiBdOyB0aGVuIAogICAgU0FGRV9UT19CT09UU1RSQVA9dHJ1ZQpmaQoKIyBNYXJpYURCIEdhbGVyYSBjb25maWcgZmlsZQpjYXQgPDxFT0YgfCB0ZWUgJHtHQUxFUkFfQ09ORklHX0ZJTEV9IApbbXlzcWxkXQpiaW5kLWFkZHJlc3M9MC4wLjAuMApkZWZhdWx0X3N0b3JhZ2VfZW5naW5lPUlubm9EQgpiaW5sb2dfZm9ybWF0PXJvdwppbm5vZGJfYXV0b2luY19sb2NrX21vZGU9MgoKIyBDbHVzdGVyIGNvbmZpZ3VyYXRpb246IGh0dHBzOi8vZ2FsZXJhY2x1c3Rlci5jb20vbGlicmFyeS9kb2N1bWVudGF0aW9uL215c3FsLXdzcmVwLW9wdGlvbnMuaHRtbAp3c3JlcF9uZXdfY2x1c3Rlcj0iJChnZXRfbmV3X2NsdXN0ZXIpIgp3c3JlcF9vbj1PTgp3c3JlcF9wcm92aWRlcj0vdXNyL2xpYi9nYWxlcmEvbGliZ2FsZXJhX3NtbS5zbwp3c3JlcF9jbHVzdGVyX2FkZHJlc3M9IiQoZ2V0X2NsdXN0ZXJfYWRkcmVzcykiCndzcmVwX2NsdXN0ZXJfbmFtZT1nYWxlcmEKd3NyZXBfc2xhdmVfdGhyZWFkcz00CgojIE5vZGUgY29uZmlndXJhdGlvbgp3c3JlcF9ub2RlX2FkZHJlc3M9IiRIT1NUTkFNRS5tYXJpYWRiLWhlYWRsZXNzLmRlZmF1bHQuc3ZjLmNsdXN0ZXIubG9jYWwiCndzcmVwX25vZGVfbmFtZT0iJEhPU1ROQU1FIgoKIyBTU1Q6IGh0dHBzOi8vbWFyaWFkYi5jb20va2IvZW4vaW50cm9kdWN0aW9uLXRvLXN0YXRlLXNuYXBzaG90LXRyYW5zZmVycy1zc3RzLyAKd3NyZXBfc3N0X21ldGhvZD0ibWFyaWFiYWNrdXAiCndzcmVwX3NzdF9hdXRoPSJyb290OiRNQVJJQURCX1JPT1RfUEFTU1dPUkQiCkVPRgoKaWYgWyAiJFNBRkVfVE9fQk9PVFNUUkFQIiBdICYmIFsgLWYgIiRHQUxFUkFfU1RBVEVfRklMRSIgXTsgdGhlbiAKICAgIHNlZCAtaSAgInMvc2FmZV90b19ib290c3RyYXA6IDAvc2FmZV90b19ib290c3RyYXA6IDEvIiAiJEdBTEVSQV9TVEFURV9GSUxFIiAKZmkKCmJhc2ggLWMgIiRFTlRSWVBPSU5UIG1hcmlhZGJkIg==
kind: Secret
metadata:
  creationTimestamp: null
  name: mariadb-scripts
